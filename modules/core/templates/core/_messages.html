{% if messages %}
    <div class="fixed top-4 right-4 z-50 space-y-2 max-w-sm" role="status" aria-live="polite">
        {% for message in messages %}
            {% if message.tags %}
                {% with tag=message.tags %}
                    <div class="p-3 rounded-lg border shadow-lg backdrop-blur-sm
                      {% if 'debug' in tag %} bg-gray-50 border-gray-200 text-gray-700
                      {% elif 'info' in tag %} bg-blue-50 border-blue-200 text-blue-800
                      {% elif 'success' in tag %} bg-green-50 border-green-200 text-green-800
                      {% elif 'warning' in tag %} bg-yellow-50 border-yellow-200 text-yellow-900
                      {% elif 'error' in tag %} bg-red-50 border-red-200 text-red-800
                      {% else %} bg-white border-gray-200 text-gray-800 {% endif %}
                      transform transition-all duration-300 ease-in-out">
                        <div class="flex justify-between items-start">
                            <div class="flex-1">{{ message }}</div>
                            <button class="ml-2 text-gray-400 hover:text-gray-600 text-sm">
                                ✕
                            </button>
                        </div>
                    </div>
                {% endwith %}
            {% else %}
                <div class="p-3 rounded-lg border shadow-lg bg-white/95 border-gray-200 text-gray-800 backdrop-blur-sm transform transition-all duration-300 ease-in-out">
                    <div class="flex justify-between items-start">
                        <div class="flex-1">{{ message }}</div>
                        <button onclick="this.parentElement.parentElement.remove()"
                                class="ml-2 text-gray-400 hover:text-gray-600 text-sm">
                            ✕
                        </button>
                    </div>
                </div>
            {% endif %}
        {% endfor %}
    </div>
{% endif %}
